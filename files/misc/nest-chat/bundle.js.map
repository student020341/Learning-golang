{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/moment/moment.js","../node_modules/parseuri/index.js","../node_modules/ms/index.js","../node_modules/socket.io-client/node_modules/debug/src/debug.js","../node_modules/socket.io-client/node_modules/debug/src/browser.js","../node_modules/socket.io-client/lib/url.js","../node_modules/socket.io-parser/node_modules/debug/src/debug.js","../node_modules/socket.io-parser/node_modules/debug/src/browser.js","../node_modules/socket.io-parser/node_modules/component-emitter/index.js","../node_modules/socket.io-parser/node_modules/isarray/index.js","../node_modules/socket.io-parser/is-buffer.js","../node_modules/socket.io-parser/binary.js","../node_modules/socket.io-parser/index.js","../node_modules/has-cors/index.js","../node_modules/engine.io-client/lib/xmlhttprequest.js","../node_modules/engine.io-parser/lib/keys.js","../node_modules/has-binary2/node_modules/isarray/index.js","../node_modules/has-binary2/index.js","../node_modules/arraybuffer.slice/index.js","../node_modules/after/index.js","../node_modules/engine.io-parser/lib/utf8.js","../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","../node_modules/blob/index.js","../node_modules/engine.io-parser/lib/browser.js","../node_modules/engine.io-client/node_modules/component-emitter/index.js","../node_modules/engine.io-client/lib/transport.js","../node_modules/parseqs/index.js","../node_modules/yeast/index.js","../node_modules/component-inherit/index.js","../node_modules/engine.io-client/node_modules/debug/src/debug.js","../node_modules/engine.io-client/node_modules/debug/src/browser.js","../node_modules/engine.io-client/lib/transports/polling.js","../node_modules/engine.io-client/lib/transports/polling-xhr.js","../node_modules/engine.io-client/lib/transports/polling-jsonp.js","../node_modules/engine.io-client/lib/transports/websocket.js","../node_modules/rollup-plugin-node-resolve/src/empty.js","../node_modules/engine.io-client/lib/transports/index.js","../node_modules/indexof/index.js","../node_modules/engine.io-client/lib/socket.js","../node_modules/engine.io-client/lib/index.js","../node_modules/socket.io-client/node_modules/component-emitter/index.js","../node_modules/to-array/index.js","../node_modules/socket.io-client/lib/on.js","../node_modules/component-bind/index.js","../node_modules/socket.io-client/lib/socket.js","../node_modules/backo2/index.js","../node_modules/socket.io-client/lib/manager.js","../node_modules/socket.io-client/lib/index.js","../src/stuff/WSStuff.js","../src/stuff/Fetchy.js","../src/components/Header.svelte","../src/components/Messages.svelte","../src/components/Controls.svelte","../src/App.svelte","../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(component, store, callback) {\n    const unsub = store.subscribe(callback);\n    component.$$.on_destroy.push(unsub.unsubscribe\n        ? () => unsub.unsubscribe()\n        : unsub);\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? requestAnimationFrame : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction detach_between(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction detach_before(after) {\n    while (after.previousSibling) {\n        after.parentNode.removeChild(after.previousSibling);\n    }\n}\nfunction detach_after(before) {\n    while (before.nextSibling) {\n        before.parentNode.removeChild(before.nextSibling);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now$$1 => {\n        if (!started && now$$1 >= start_time) {\n            started = true;\n        }\n        if (started && now$$1 >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now$$1 - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_render.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_render.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_binding_callback(fn) {\n    binding_callbacks.push(fn);\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.shift()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        while (render_callbacks.length) {\n            const callback = render_callbacks.pop();\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_render);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_render.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nlet outros;\nfunction group_outros() {\n    outros = {\n        remaining: 0,\n        callbacks: []\n    };\n}\nfunction check_outros() {\n    if (!outros.remaining) {\n        run_all(outros.callbacks);\n    }\n}\nfunction on_outro(callback) {\n    outros.callbacks.push(callback);\n}\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick: tick$$1 = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick$$1(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now$$1 => {\n            if (running) {\n                if (now$$1 >= end_time) {\n                    tick$$1(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now$$1 >= start_time) {\n                    const t = easing((now$$1 - start_time) / duration);\n                    tick$$1(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.remaining += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick: tick$$1 = noop, css } = config;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now$$1 => {\n            if (running) {\n                if (now$$1 >= end_time) {\n                    tick$$1(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.remaining) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.callbacks);\n                    }\n                    return false;\n                }\n                if (now$$1 >= start_time) {\n                    const t = easing((now$$1 - start_time) / duration);\n                    tick$$1(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick: tick$$1 = noop, css } = config;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.remaining += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick$$1(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now$$1 => {\n                if (pending_program && now$$1 > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now$$1 >= running_program.end) {\n                        tick$$1(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.remaining)\n                                    run_all(running_program.group.callbacks);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now$$1 >= running_program.start) {\n                        const p = now$$1 - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick$$1(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        on_outro(() => {\n                            block.d(1);\n                            info.blocks[i] = null;\n                        });\n                        block.o(1);\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            if (block.i)\n                block.i(1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    on_outro(() => {\n        destroy_block(block, lookup);\n    });\n    block.o(1);\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        if (block.i)\n            block.i(1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_render: [],\n            after_render: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\nfunction get_store_value(store) {\n    let value;\n    store.subscribe(_ => value = _)();\n    return value;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_render } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens after the initial afterUpdate. Because\n    // afterUpdate callbacks happen in reverse order (inner first)\n    // we schedule onMount callbacks before afterUpdate callbacks\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_render.forEach(add_render_callback);\n}\nfunction destroy(component, detaching) {\n    if (component.$$) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal$$1, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal: not_equal$$1,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_render: [],\n        after_render: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal$$1($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_render);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro && component.$$.fragment.i)\n            component.$$.fragment.i();\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr$$1, _oldValue, newValue) {\n            this[attr$$1] = newValue;\n        }\n        $destroy() {\n            destroy(this, true);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy(this, true);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { create_animation, fix_position, add_transform, handle_promise, append, insert, detach, detach_between, detach_before, detach_after, destroy_each, element, object_without_properties, svg_element, text, space, empty, listen, prevent_default, stop_propagation, attr, set_attributes, set_custom_element_data, xlink_attr, get_binding_group_value, to_number, time_ranges_to_array, children, claim_element, claim_text, set_data, set_input_type, set_style, select_option, select_options, select_value, select_multiple_value, add_resize_listener, toggle_class, custom_event, destroy_block, outro_and_destroy_block, fix_and_destroy_block, fix_and_outro_and_destroy_block, update_keyed_each, measure, current_component, set_current_component, beforeUpdate, onMount, afterUpdate, onDestroy, createEventDispatcher, setContext, getContext, bubble, clear_loops, loop, dirty_components, intros, schedule_update, tick, add_binding_callback, add_render_callback, add_flush_callback, flush, get_spread_update, invalid_attribute_name_character, spread, escaped, escape, each, missing_component, validate_component, debug, create_ssr_component, get_store_value, group_outros, check_outros, on_outro, create_in_transition, create_out_transition, create_bidirectional_transition, noop, identity, assign, is_promise, add_location, run, blank_object, run_all, is_function, safe_not_equal, not_equal, validate_store, subscribe, create_slot, get_slot_context, get_slot_changes, exclude_internal_props, once, now, raf, set_now, set_raf, bind, mount_component, init, SvelteElement, SvelteComponent, SvelteComponentDev };\n","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || (typeof location !== 'undefined' && location);\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new self[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, it’s not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n","/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (typeof ArrayBuffer !== 'undefined') {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // results of ReactNative environment detection\n  this.isReactNative = opts.isReactNative;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","/* global attachEvent */\n\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (typeof document !== 'undefined') {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (typeof document !== 'undefined') {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== 'undefined') {\n  if (typeof attachEvent === 'function') {\n    attachEvent('onunload', unloadHandler);\n  } else if (typeof addEventListener === 'function') {\n    var terminationEvent = 'onpagehide' in self ? 'pagehide' : 'unload';\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * Until https://github.com/tc39/proposal-global is shipped.\n */\nfunction glob () {\n  return typeof self !== 'undefined' ? self\n      : typeof window !== 'undefined' ? window\n      : typeof global !== 'undefined' ? global : {};\n}\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    var global = glob();\n    callbacks = global.___eio = (global.___eio || []);\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (typeof addEventListener === 'function') {\n    addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\n\nvar BrowserWebSocket, NodeWebSocket;\n\nif (typeof WebSocket !== 'undefined') {\n  BrowserWebSocket = WebSocket;\n} else if (typeof self !== 'undefined') {\n  BrowserWebSocket = self.WebSocket || self.MozWebSocket;\n} else {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocketImpl = BrowserWebSocket || NodeWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocketImpl = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws =\n      this.usingBrowserWebSocket && !this.isReactNative\n        ? protocols\n          ? new WebSocketImpl(uri, protocols)\n          : new WebSocketImpl(uri)\n        : new WebSocketImpl(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);\n};\n","export default {};\n","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (typeof location !== 'undefined' && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (typeof location !== 'undefined' ? location.hostname : 'localhost');\n  this.port = opts.port || (typeof location !== 'undefined' && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // detect ReactNative environment\n  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');\n\n  // other options for Node.js or ReactNative client\n  if (typeof self === 'undefined' || this.isReactNative) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0),\n    isReactNative: this.isReactNative\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\nvar hasBin = require('has-binary2');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","/**\r\n * WSStuff (web socket stuff) handles websocket based network communications\r\n */\r\n\r\nimport io from 'socket.io-client';\r\n\r\nexport default class WSStuff {\r\n    constructor (url, ops) {\r\n        // passed from main.js props\r\n        this.socketUrl = url;\r\n        // pipes that allow this vanilla js file to run code from the svelte component\r\n        this.ops = ops;\r\n    }\r\n\r\n    /**\r\n     * handle some socket.io boilerplate and resolve when the connection is established\r\n     */\r\n    async init () {\r\n        this.ws = io(this.socketUrl);\r\n        return new Promise((resolve, reject) => {\r\n            this.ws.on(\"connect\", () => {\r\n                this.handleConnect();\r\n                resolve();\r\n            });\r\n            this.ws.on(\"events\", d => this.handleEvents(d, this.ops));\r\n            this.ws.on(\"disconnect\", this.handleDisconnect);\r\n            this.ws.on(\"exception\", data => {\r\n                this.handleException(data);\r\n                reject();\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ask the server who we are, id used for enabling message hiding for your own messages\r\n     */\r\n    getId () {\r\n        return new Promise((resolve, reject) => {\r\n            this.ws.emit(\"identify\", {}, response => {\r\n                if (typeof response === \"string\") {\r\n                    resolve(response.substring(0, 12));\r\n                } else {\r\n                    reject(response);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    sendMessage (msg) {\r\n        this.ws.emit(\"events\", { message: msg });\r\n    }\r\n\r\n    removeMessage (mid) {\r\n        this.ws.emit(\"events\", { remove: mid });\r\n    }\r\n\r\n    async handleConnect () {\r\n        console.log(\"connected\");\r\n    }\r\n\r\n    async handleDisconnect () {\r\n        console.log(\"disconnected\");\r\n    }\r\n\r\n    async handleEvents (data, ops) {\r\n        console.log(\"events\", data);\r\n        const {addMessage, removeMessage} = data;\r\n        if (addMessage) {\r\n            ops.addNewMessage(addMessage);\r\n        } else if (removeMessage) {\r\n            ops.removeMessage(removeMessage);\r\n        }\r\n    }\r\n\r\n    async handleException (data) {\r\n        console.log(\"exception\", data);\r\n    }\r\n};\r\n","/**\r\n * Simple class to handle the non-websocket network communcations\r\n */\r\n\r\nexport default class Fetchy {\r\n    constructor (url) {\r\n        this.serverUrl = url;\r\n    }\r\n\r\n    getMessages () {\r\n        return fetch(this.serverUrl + \"/messages\").then(response => response.json());\r\n    }\r\n}\r\n","<script>\r\n\r\n    // only vars in this component are passed in\r\n    export let userId = \"\";\r\n    export let connection;\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n    h4 { \r\n        margin: 0;\r\n        padding: 8px;\r\n        border: 1px solid black;\r\n        border-bottom: none;\r\n    }\r\n\r\n    h4 .name {\r\n        color: #76a4b3;\r\n    }\r\n</style>\r\n\r\n<!-- explicit promise handling for templates! -->\r\n<h4>\r\n    Nest-Chat:\r\n    {#await connection}\r\n    connecting...\r\n    {:then resolved}\r\n    connected as <span class=\"name\">{userId}</span>\r\n    {:catch exception}\r\n    connection failed\r\n    {/await}\r\n</h4>\r\n","<script>\r\n\r\nexport let messageList = [];\r\nexport let userId = \"\";\r\n\r\nimport { tick } from 'svelte';\r\nimport { createEventDispatcher } from 'svelte';\r\nconst dispatch = createEventDispatcher();\r\n\r\n// bound in template to allow node to be scrolled\r\nlet messageListNode;\r\n\r\nfunction removeMessage(message) {\r\n    dispatch(\"hide\", {mid: message.id});\r\n}\r\n\r\n// messageListNode moved here to avoid the observer magic\r\nfunction scrollContainer() {\r\n    messageListNode.scrollTop = messageListNode.scrollHeight;\r\n}\r\n\r\n// svelte syntax for observe/compute\r\n$: {\r\n    // tell svelte to run this code every time the message list is updated\r\n    messageList;\r\n\r\n    // scroll the chat down after the message list changes\r\n    tick().then(scrollContainer);\r\n}\r\n\r\n</script>\r\n\r\n<style type=\"text/scss\">\r\n\r\n.messages {\r\n    padding: 8px;\r\n    border: 1px solid black;\r\n}\r\n\r\n.messages ul {\r\n    padding: 0;\r\n    margin: 0;\r\n    height: 400px;\r\n    overflow: auto;\r\n}\r\n\r\nul.list {\r\n    list-style: none;\r\n\r\n    li {\r\n        color: gray;\r\n        .time { color: #76a4b3; }\r\n\r\n        &.other {\r\n            color: black;\r\n            .time { color: blue; }\r\n        }\r\n    }\r\n}\r\n\r\n.delete {\r\n    color: red;\r\n    cursor: pointer;\r\n}\r\n\r\n</style>\r\n\r\n<div class=\"messages\">\r\n    <ul class=\"list\" bind:this={messageListNode} >\r\n        {#each messageList as message (message.id)}\r\n            <li class={message.user === userId ? \"\" : \"other\"}>\r\n                {#if message.user === userId}\r\n                <span class=\"delete\" title=\"Remove Message\" on:click={() => removeMessage(message)}>[x]</span>\r\n                {/if}\r\n                <span class=\"time\">\r\n                    {message.user}@{message.time}\r\n                </span>\r\n                : {message.message}\r\n            </li>\r\n        {/each}\r\n    </ul>\r\n</div>\r\n","\r\n<script>\r\n    // disable ui until connection is open\r\n    export let ready;\r\n\r\n    import { createEventDispatcher } from 'svelte';\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n    let outgoingMessage = \"\";\r\n    async function sendMessage () {\r\n\t\t// ignore empty string submission\r\n        if (!outgoingMessage) { return; }\r\n        // dispatch will send the message up to the parent component to send the message\r\n        // to the server\r\n        dispatch(\"sendMessage\", { message: outgoingMessage });\r\n        outgoingMessage = \"\";\r\n    }\r\n\r\n    function handleKeyPress(event) {\r\n\t\t// enter key\r\n\t\tif (event.which === 13) {\r\n\t\t\tsendMessage();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/scss\">\r\n    .controls {\r\n        padding: 8px;\r\n        border: 1px solid black;\r\n        border-top: none;\r\n\r\n        input, button {\r\n            margin: 0;\r\n        }\r\n    }\r\n</style>\r\n\r\n<div class=\"controls\">\r\n    {#if ready}\r\n    <div>\r\n        <input type=\"text\" maxlength=\"512\" bind:value={outgoingMessage} on:keypress={handleKeyPress} />\r\n        <button on:click={sendMessage}>send</button>\r\n    </div>\r\n    {/if}\r\n</div>\r\n","<script>\n\n\timport moment from 'moment';\n\t// credit to https://github.com/nestjs/nest/tree/master/sample/02-gateways for getting the client & server socket.io stuff setup correctly\n\timport WSStuff from './stuff/WSStuff';\n\timport SimpleWeb from './stuff/Fetchy';\n\n\t// view components\n\timport Header from './components/Header.svelte';\n\timport Messages from './components/Messages.svelte';\n\timport Controls from './components/Controls.svelte';\n\n\t// default export bug: https://github.com/UnwrittenFun/svelte-atom/issues/2\n\texport let nestUrl;\n\n\tlet messages = [];\n\tlet timeFormat = \"MM-DD-YY HH:mm:ss\";\n\n\t// non-socket networking\n\tlet webf = new SimpleWeb(nestUrl);\n\t// initial fetch of messages\n\t(async () => {\n\t\tlet ms = await webf.getMessages();\n\t\tif (\"rows\" in ms) {\n\t\t\tmessages = ms.rows\n\t\t\t\t.map(row => ({\n\t\t\t\t\ttime: moment(row.timestamp).format(timeFormat),\n\t\t\t\t\tuser: row.session,\n\t\t\t\t\tid: row.id,\n\t\t\t\t\tmessage: row.text\n\t\t\t\t}))\n\t\t\t\t.sort((m1, m2) => {\n\t\t\t\t\t// get times in milliseconds for comparison\n\t\t\t\t\tconst [time1, time2] = [m1, m2].map(msg => new Date(msg.time).valueOf());\n\t\t\t\t\treturn time2 > time1 ? 1 : time2 < time1 ? -1 : 0;\n\t\t\t\t});\n\t\t} else if (\"error\" in ms) {\n\t\t\tconsole.log(ms);\n\t\t\tmessages = [{\n\t\t\t\ttime: \"just now\",\n\t\t\t\tuser: \"dev\",\n\t\t\t\tid: 0,\n\t\t\t\tmessage: \"Something has gone terribly wrong. Check the console!\"\n\t\t\t}];\n\t\t}\n\t})();\n\n\t// called from WSStuff to add messages\n\tfunction addNewMessage (msg) {\n\t\tmsg.time = moment(msg.time).format(timeFormat);\n\t\tmessages = messages.concat(msg);\n\t}\n\n\tfunction removeMessage (id) {\n\t\tmessages = messages.filter(msg => msg.id !== id);\n\t}\n\n\t// socket related\n\tlet wsInfo = new WSStuff(nestUrl, { addNewMessage, removeMessage });\n\tlet connection = wsInfo.init();\n\t\n\tlet userId;\n\tlet ready = false;\n\tconnection.then(async () => {\n\t\tuserId = await wsInfo.getId();\n\t\tready = true;\n\t});\n\n\n\t// handlers for events bubbled up from other components\n\tfunction handleSend (event) {\n\t\twsInfo.sendMessage(event.detail.message);\n\t}\n\n\tfunction handleHide (event) {\n\t\twsInfo.removeMessage(event.detail.mid);\n\t}\n\n</script>\n\n<!-- glorious svelte fragment -->\n<div>\n\t<Header bind:userId={userId} \n\t\tbind:connection={connection} />\n\t<Messages bind:messageList={messages} \n\t\tbind:userId={userId} \n\t\ton:hide={handleHide} />\n\t<Controls bind:ready={ready} \n\t\ton:sendMessage={handleSend} />\n</div>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\t// not ideal, but only 1 location to edit.\n\t\tnestUrl: 'http://www.twt.world:2002'\n\t}\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","listen","event","handler","options","addEventListener","removeEventListener","set_data","current_component","set_current_component","component","createEventDispatcher","type","detail","callbacks","$$","e","createEvent","initCustomEvent","custom_event","slice","call","dirty_components","resolved_promise","Promise","resolve","update_scheduled","binding_callbacks","render_callbacks","flush_callbacks","schedule_update","then","flush","add_binding_callback","push","add_render_callback","add_flush_callback","seen_callbacks","Set","length","shift","update","callback","pop","has","add","fragment","dirty","before_render","p","ctx","after_render","outros","handle_promise","promise","info","token","index","key","value","resolved","[object Object]","child_ctx","block","current","blocks","i","remaining","on_outro","d","o","c","m","mount","error","catch","pending","destroy_block","lookup","delete","bind","props","indexOf","bound","mount_component","on_mount","on_destroy","new_on_destroy","map","filter","init","instance","create_fragment","not_equal$$1","prop_names","parent_component","not_equal","context","Map","ready","make_dirty","hydrate","l","Array","from","childNodes","intro","SvelteComponent","detaching","this","$destroy","splice","module","hookCallback","some","hooks","apply","arguments","isArray","input","prototype","toString","isObject","isUndefined","isNumber","isDate","Date","arr","res","hasOwnProp","hasOwnProperty","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","flags","parsedParts","isNowValid","isNaN","_d","getTime","invalidWeekday","_strict","undefined","bigHour","isFrozen","createInvalid","NaN","fun","t","len","momentProperties","copyConfig","to","prop","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","config","updateOffset","isMoment","obj","absFloor","number","Math","ceil","floor","toInt","argumentForCoercion","coercedNumber","isFinite","compareArrays","array1","array2","dontConvert","min","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecationHandler","arg","args","join","Error","stack","keys","deprecations","deprecateSimple","isFunction","Function","mergeConfigs","parentConfig","childConfig","Locale","set","aliases","addUnitAlias","unit","shorthand","lowerCase","toLowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","padded","ordinal","func","localeData","formatMoment","expandFormat","array","match","replace","mom","output","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","regexes","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","RegExp","regexEscape","matched","p1","p2","p3","p4","s","tokens","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","daysInYear","year","isLeapYear","y","parseTwoDigitYear","parseInt","getSetYear","makeGetSet","keepTime","set$1","get","month","date","daysInMonth","x","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","split","defaultLocaleMonthsShort","setMonth","dayOfMonth","getSetMonth","defaultMonthsShortRegex","defaultMonthsRegex","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","sort","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","fwdlw","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","localWeekday","weekOffset","dayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","shiftWeekdays","ws","n","concat","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","day","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","globalLocale","getSetHour","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","h","hh","dd","M","MM","yy","meridiemParse","locales","localeFamilies","normalizeLocale","loadLocale","oldLocale","exports","_abbr","aliasedRequire","require","getSetGlobalLocale","values","getLocale","defineLocale","abbr","_config","parentLocale","names","j","next","chooseLocale","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","defaults","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","currentDateArray","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","_week","curWeek","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","ms","setFullYear","getDay","setUTCMinutes","getUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","string","exec","configFromStringAndFormat","untruncateYear","yearStr","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","monthStr","dayStr","hourStr","minuteStr","secondStr","result","parsedArray","weekdayStr","parsedInput","weekdayProvided","weekdayActual","checkWeekday","obsOffset","militaryOffset","numOffset","hm","calculateOffset","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","meridiemHour","isPm","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","createFromInputFallback","configFromString","minute","second","millisecond","configFromObject","configFromInput","isUTC","getOwnPropertyNames","isObjectEmpty","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","unitHasDecimal","parseFloat","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","round","offset","separator","utcOffset","offsetFromString","chunkOffset","matcher","matches","chunk","parts","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","base","parseIso","isBefore","positiveMomentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","monthDiff","anchor2","adjust","wholeMonthDiff","newLocaleData","defaultFormat","defaultFormatUtc","lang","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","parseMs","getSetMillisecond","proto","preParsePostFormat","time","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","startOfDate","isoWeekday","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","u","getPrioritizedUnits","toArray","toObject","toDate","toISOString","keepOffset","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeeks","weekInfo","isoWeeksInYear","parseWeekday","parseIsoWeekday","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","get$1","field","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","_calendar","_longDateFormat","formatUpper","toUpperCase","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","source","isFormat","_monthsShort","monthName","_monthsParseExact","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","_fullWeekdaysParse","charAt","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","makeGetter","thresholds","abs$1","toISOString$1","Y","D","toFixed","total","totalSign","ymSign","daysSign","hmsSign","proto$2","monthsFromDays","withSuffix","posNegDuration","relativeTime$1","toIsoString","version","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","factory","re","str","substring","uri","host","authority","ipv6uri","String","parse","long","plural","fmtShort","JSON","stringify","createDebug","namespace","prevTime","debug","enabled","self","curr","prev","coerce","unshift","formatter","formatters","formatArgs","log","useColors","color","hash","charCodeAt","colors","selectColor","destroy","instances","message","enable","namespaces","save","skips","require$$0","load","r","storage","process","env","DEBUG","lastC","removeItem","window","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","chrome","localStorage","localstorage","v","err","loc","location","protocol","parseuri","port","path","id","href","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","cb","emit","listeners","hasListeners","withNativeBuffer","Buffer","isBuffer","withNativeArrayBuffer","ArrayBuffer","isView","buffer","withNativeBlob","Blob","withNativeFile","File","packet","buffers","packetData","pack","_deconstructPacket","isBuf","placeholder","_placeholder","num","newData","attachments","_reconstructPacket","pendingBlobs","bloblessData","_removeBlobs","curKey","containingObject","fileReader","FileReader","onload","readAsArrayBuffer","Encoder","Decoder","ERROR_PACKET","ERROR","encodeAsString","BINARY_EVENT","BINARY_ACK","nsp","payload","tryStringify","reconstructor","BinaryReconstructor","reconPack","encode","binary","removeBlobs","deconstruction","deconstructPacket","encodeAsBinary","Number","types","buf","tryParse","isPayloadValid","decodeString","base64","takeBinaryData","finishedReconstruction","binData","reconstructPacket","XMLHttpRequest","opts","xdomain","xscheme","enablesXDR","hasCORS","XDomainRequest","hasBinary","arraybuffer","start","end","bytes","byteLength","abv","Uint8Array","count","err_cb","bail","proxy","byteArray","byteCount","byteIndex","stringFromCharCode","fromCharCode","ucs2decode","extra","counter","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","readContinuationByte","continuationByte","decodeSymbol","byte1","codePoints","byteString","decode","ucs2encode","chars","encoded1","encoded2","encoded3","encoded4","bufferLength","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","blobBuilderSupported","getBlob","mapArrayBufferViews","ary","copy","byteOffset","BlobBuilderConstructor","bb","part","BlobConstructor","base64encoder","isAndroid","isPhantomJS","dontSendBlobs","packets","open","close","ping","pong","upgrade","packetslist","each","done","after","eachWithIndex","el","supportsBinary","utf8encode","encodeBase64Packet","contentArray","resultBuffer","encodeArrayBuffer","fr","encodePacket","encodeBlobAsArrayBuffer","blob","encodeBlob","encodeBase64Object","encoded","utf8","b64data","b64","readAsDataURL","typed","basic","btoa","binaryType","utf8decode","decodeBase64Packet","tryDecode","rest","sliceBuffer","isBinary","encodePayloadAsBlob","encodePayloadAsArrayBuffer","doneCallback","setLengthHeader","results","decodePayloadAsBinary","chr","decodePacket","encodedPackets","totalLength","reduce","acc","resultArray","bufferIndex","isString","ab","view","lenStr","binaryIdentifier","lengthAry","bufferTail","tailArray","msgLength","Transport","hostname","secure","query","timestampParam","timestampRequests","readyState","agent","socket","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","isReactNative","extraHeaders","localAddress","onError","desc","description","doOpen","doClose","onClose","send","write","onOpen","writable","onData","parser","onPacket","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","constructor","alphabet","seed","yeast","decoded","Polling","hasXHR2","require$$1","responseType","forceBase64","poll","pause","onPause","polling","doPoll","decodePayload","callbackfn","encodePayload","doWrite","schema","sid","parseqs","XHR","Request","requestTimeout","isSSL","xd","xs","method","async","request","req","sendXhr","pollXhr","xhr","setDisableHeaderCheck","setRequestHeader","withCredentials","timeout","hasXDR","onLoad","onerror","responseText","onreadystatechange","contentType","getResponseHeader","status","setTimeout","requestsCount","requests","onSuccess","cleanup","fromError","abort","response","attachEvent","unloadHandler","terminationEvent","JSONPPolling","rNewline","rEscapedNewline","glob","global","___eio","script","form","iframe","insertAt","getElementsByTagName","head","body","area","iframeId","className","position","top","left","setAttribute","complete","initIframe","html","action","submit","BrowserWebSocket","NodeWebSocket","WebSocket","MozWebSocket","WebSocketImpl","WS","perMessageDeflate","usingBrowserWebSocket","protocols","check","headers","supports","addEventListeners","onopen","onclose","onmessage","ev","compress","jsonp","forceJSONP","JSONP","websocket","Socket","transports","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","onlyBinaryUpgrades","product","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","createTransport","EIO","transport","setTransport","onDrain","probe","failed","onTransportOpen","upgradeLosesBinary","upgrading","freezeTransport","onTransportClose","onupgrade","onHandshake","setPing","code","filterUpgrades","onHeartbeat","clearTimeout","sendPacket","waitForUpgrade","cleanupAndClose","reason","filteredUpgrades","list","events","connect","connect_error","connect_timeout","connecting","disconnect","reconnect","reconnect_attempt","reconnect_failed","reconnect_error","reconnecting","io","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","autoConnect","subEvents","subs","hasBin","EVENT","CONNECT","onpacket","sameNamespace","rootNamespaceError","onconnect","onevent","ACK","onack","DISCONNECT","ondisconnect","ack","sent","emitBuffered","Backoff","factor","jitter","attempts","rand","random","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","lastPing","encoding","packetBuffer","_parser","encoder","decoder","emitAll","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","eio","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","ondecoded","onConnecting","processPacketQueue","subsLength","delay","onreconnect","attempt","cache","parsed","url","forceNew","multiplex","WSStuff","ops","socketUrl","reject","handleConnect","handleEvents","handleDisconnect","handleException","mid","remove","addMessage","removeMessage","addNewMessage","Fetchy","serverUrl","fetch","userId","connection","click_handler","user","messageList","old_blocks","changed","get_key","dynamic","create_each_block","get_context","old_indexes","new_blocks","new_lookup","deltas","will_move","did_move","first","new_block","old_block","new_key","old_key","dispatch","messageListNode","scrollContainer","scrollTop","scrollHeight","attribute","removeAttribute","handleKeyPress","sendMessage","outgoingMessage","which","messages","handleHide","handleSend","nestUrl","webf","SimpleWeb","getMessages","rows","row","moment","timestamp","session","m1","m2","time1","time2","wsInfo","getId"],"mappings":"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"}